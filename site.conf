{
	hostname_prefix => 'freifunk',
	site_name => 'Freifunk Hamburg',
	site_code => 'ffhh',
	release => '0.4+0-exp' . nightly,

	prefix4 => '10.112.0.0/18',
	prefix6 => 'fd51:2bb2:fd0d::/64',

	timezone => 'CET-1CEST,M3.5.0,M10.5.0/3', # Europe/Berlin
	ntp_servers => ['1.ntp.services.ffhh','2.ntp.services.ffhh'],
	regdom => 'DE',

	wifi24 => {
		ssid => 'hamburg.freifunk.net',
		channel => 1,
		htmode => 'HT40+',
		mesh_ssid => 'f8:d1:11:87:52:2e',
		mesh_bssid => 'f8:d1:11:87:52:2e',
		mesh_mcast_rate => 12000,
	},
	wifi5 => {
		ssid => 'hamburg.freifunk.net (5GHz)',
		channel => 100,
		htmode => 'HT40+',
		mesh_ssid => 'f8:d1:11:87:52:2e',
		mesh_bssid => 'f8:d1:11:87:52:2e',
		mesh_mcast_rate => 12000,
	},

	next_node => {
		ip4 => '10.112.0.1',
		ip6 => 'fd51:2bb2:fd0d::1',

		mac => '16:41:95:40:f7:dc',
	},

	fastd_mesh_vpn => {
		methods => ['salsa2012+gmac'],
		mtu => 1426,
		backbone => {
			limit => 2,
			peers => {
				gateway01 => {
					key => 'cb09c68e2d2f7d374d47035cd532e0a60b8b3a7447aa5a7f76f4f15c8ffa9e58',
					remotes => ['ipv4 "gw01.hamburg.freifunk.net" port 10000'],
				},
				gateway02 => {
					key => 'a859bd669358c0bbef4f23b3a803bc5cac37a635fec11babacd9278f2ca86841', # regenerate key before release
					remotes => ['ipv4 "gw02.hamburg.freifunk.net" port 10000'],
				},
				gateway03 => {
					key => '49fc60a3d0a7e73d1fce1d002f2644509997f6a188b86ce3ecbaa1a9ccd14b1f', # regenerate key before release
					remotes => ['ipv4 "gw03.hamburg.freifunk.net" port 10000'],
				},
				gateway04 => {
					key => 'd794faee2391d1636b8f827e6cb1616360b31705980c3c512ea14ea2ebc17e5a', # regenerate key before release
					remotes => ['ipv4 "gw04.hamburg.freifunk.net" port 10000'],
				},
				gateway05 => {
					key => '84986658775167dff6918dc8e0529c4a4524cb1782849a80933ddb6d8c6bd3f5',
					remotes => ['ipv4 "gw05.hamburg.freifunk.net" port 10000'],
				},
				gateway06 => {
					key => '2dc0ecf682dd786a4b44f0e4daab052202807adc0227fef64d9ccef0814ce88c', # regenerate key before release
					remotes => ['ipv4 "gw06.hamburg.freifunk.net" port 10000'],
				},
				gateway07 => {
					key => '62ea83b5fbb0fd8cf205f1398698cb29180039b8246b1f69778e8f52cd423612',
					remotes => ['ipv4 "gw07.hamburg.freifunk.net" port 10000'],
				},
				gateway08 => {
					key => '67e9b215248ada3f4ffcc9db0bdf897128f6236a0d4e8d660762b77bebc914d4',
					remotes => ['ipv4 "gw08.hamburg.freifunk.net" port 10000'],
				},
				gateway09 => {
					key => '5f483f6d26ac9106d86c0edcd08cf92c18caf67933719a394915ab809d1fb2bc',
					remotes => ['ipv4 "gw09.hamburg.freifunk.net" port 10000'],
				},
				gateway10 => {
					key => '878de7af33ca09753610d9bc7c9b0113ddb9cc879913d4939dfda117d100336f', # regenerate key before release
					remotes => ['ipv4 "gw10.hamburg.freifunk.net" port 10000'],
				},
				gateway11 => {
					key => 'b2df3c5b5106629aedb55927889129823a0da023d1ed0441fab2090046042c7c',
					remotes => ['ipv4 "gw11.hamburg.freifunk.net" port 10000'],
				},
				gateway12 => {
					key => 'facbbfb07525782fcde22b929f36ea508a295619eca35782003d9ca2dd3cc524',
					remotes => ['ipv4 "gw12.hamburg.freifunk.net" port 10000'],
				},
				gateway13 => {
					key => 'd5556881159c7bc649caabf0a72ba7c33ca8bb5fd0c7f21d52f8cbd071185e28',
					remotes => ['ipv4 "gw13.hamburg.freifunk.net" port 10000'],
				},
				gateway14 => {
					key => '259aef981f51bdb99394f7d9e9fff55db84530300e6be600715aae1695a578a2',
					remotes => ['ipv4 "gw14.hamburg.freifunk.net" port 10000'],
				},
				gateway15 => {
					key => '05e5ccf23505f9c542b6096e08d7299635984c22237b1aaf773689fe09360bea',
					remotes => ['ipv4 "gw15.hamburg.freifunk.net" port 10000'],
				},
				gateway16 => {
					key => 'db11ac9b98479458acf927d501dc8cd4d2a8ec86c9c912ee8f9e1600a01f3c14',
					remotes => ['ipv4 "gw16.hamburg.freifunk.net" port 10000'],
				},
				gateway17 => {
					key => '47a0ec3055fcc71bf5534287aa832944623747f583f32cf5f9fe26947c278176',
					remotes => ['ipv4 "gw17.hamburg.freifunk.net" port 10000'],
				},
				gateway18 => {
					key => 'e256557a0df457283407b7e31decd5767be21b6e9835d8b754b63b91748d1764',
					remotes => ['ipv4 "gw18.hamburg.freifunk.net" port 10000'],
				},
				gateway19 => {
					key => 'b1e4a847fd9bb285dacef321c82b8ba4ab220706d4deb58f05b06ff8c55451f1',
					remotes => ['ipv4 "gw19.hamburg.freifunk.net" port 10000'],
				},
				gateway20 => {
					key => 'a5b6d39c0f8877938963b988bc062f212ab2df002760da647b8173b5d81b0329',
					remotes => ['ipv4 "gw20.hamburg.freifunk.net" port 10000'],
				},
			},
		},
	},

	autoupdater => {
		enabled => 1,
		branch => 'experimental',
		branches => {
			stable => {
				name => 'stable',
				mirrors => ['http://1.updates.services.ffhh/stable/sysupgrade','http://2.updates.services.ffhh/stable/sysupgrade'],
				probability => 0.08,
				good_signatures => 2,
				pubkeys => [
					'417ef22f886539ddbcffbad35e9f493195ca53e05f75bd8d8011a4999498b589', # baldo
                                        'ef73bc52b929fd11efce9a5c8f0b5463f1766bb995c8a0b3b6bcd7ba45b8b1e6', # leo
					'3f0fc50d4e5c893f9f58f98874bd21080b93c28ff5e4d4946352cada1b4e6441', # andre
					'1d37eacbd70f72730b1f5aba246a6a8eab100e2d45dda0163d9ad827f70f88d4', # gernot
				],
			},
			beta => {
                                name => 'beta',
                                mirrors => ['http://1.updates.services.ffhh/beta/sysupgrade','http://2.updates.services.ffhh/beta/sysupgrade'],
                                probability => 0.08,
                                good_signatures => 2,
                                pubkeys => [
                                        '417ef22f886539ddbcffbad35e9f493195ca53e05f75bd8d8011a4999498b589', # baldo
                                        'ef73bc52b929fd11efce9a5c8f0b5463f1766bb995c8a0b3b6bcd7ba45b8b1e6', # leo
					'3f0fc50d4e5c893f9f58f98874bd21080b93c28ff5e4d4946352cada1b4e6441', # andre
					'1d37eacbd70f72730b1f5aba246a6a8eab100e2d45dda0163d9ad827f70f88d4', # gernot
                                ],      
                        },
			experimental => {
				name => 'experimental',
				mirrors => ['http://1.updates.services.ffhh/experimental/sysupgrade','http://2.updates.services.ffhh/experimental/sysupgrade'],
				probability => 1.00,
				good_signatures => 1,
				pubkeys => [
					'1a0112fe489860068480c611c5dc56196c2f1a645db651ea2ed19ae0f0e8e1d1', # 1.builder
				],
			},
		},
	},

	simple_tc => {
		mesh_vpn => {
			ifname => 'mesh-vpn',
			enabled => 0,
			limit_egress => 300,
			limit_ingress => 4000,
		},
	},

	config_mode => {
		msg_welcome => <<'END',
Willkommen zum Einrichtungsassistenten für deinen neuen Hamburger
Freifunk-Knoten. Fülle das folgende Formular deinen Vorstellungen
entsprechend aus und sende es ab.
END
                msg_nopubkey => <<'END',
Bitte trage nun den Namen deines Knotens
(<em><%=hostname%></em>) und ein paar andere Informationen unter
<a href="http://formular.hamburg.freifunk.net/?action=create&hostname=<%=hostname%>&mac=<%=mac%>" target="_blank">http://formular.hamburg.freifunk.net/</a>
ein.
END
		msg_pubkey => <<'END',
Dies ist der öffentliche Schlüssel deines Freifunkknotens. Erst nachdem
er auf den Servern des Hamburger Freifunk-Projektes eingetragen wurde,
kann sich dein Knoten mit dem Hamburger Mesh-VPN verbinden. Bitte
trage dazu diesen Schlüssel, den Namen deines Knotens
(<em><%=hostname%></em>) und ein paar andere Informationen unter
<a href="http://formular.hamburg.freifunk.net/?action=create&hostname=<%=hostname%>&key=<%=pubkey%>&mac=<%=mac%>" target="_blank">http://formular.hamburg.freifunk.net/</a>
ein.
END
		msg_reboot => <<'END',
<p>
Dein Knoten startet gerade neu und wird anschließend versuchen,
sich mit anderen Freifunkknoten in seiner Nähe zu
verbinden. Weitere Informationen zur
Hamburger Freifunk-Community findest du auf
<a href="https://hamburg.freifunk.net/">unserer Webseite</a>.
</p>
<p>
Viel Spaß mit deinem Knoten und der Erkundung von Freifunk!
</p>
END
	},

	legacy => {
	       version_files => ['/etc/.freifunk_version_keep'],
	       old_files => ['/etc/config/config_mode', '/etc/config/freifunk'],

	       config_mode_configs => ['config_mode.@wizard[0]', 'freifunk.@wizard[0]'],
	       fastd_configs => ['mesh_vpn'],
	       mesh_ifname => 'freifunk',
	       tc_configs => ['freifunk.@bandwidth[0]'],
	       wifi_names => ['wifi_freifunk', 'wifi_freifunk5', 'wifi_mesh', 'wifi_mesh5'],
	},
}
